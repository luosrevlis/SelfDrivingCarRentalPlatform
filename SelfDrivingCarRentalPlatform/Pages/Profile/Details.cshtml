@page
@model SelfDrivingCarRentalPlatform.Pages.Profile.DetailsModel

@{
    ViewData["Title"] = "Details";
}
<div class="container mt-4 mb-4 p-5">
    <h2 class="text-center">Update Profile</h2>
    <form method="post" enctype="multipart/form-data" class="mx-auto my-4 p-4 border rounded-lg" style="max-width: 600px; font-size: 16px;">
        <div class="row">
            <div class="col-md-6">
                <!-- Image -->
                <dl>
                    <dt>Image</dt>
                    <dd>
                        <input type="file" accept="image/*" class="form-control-file mb-4" id="imageInput" asp-for="@Model.Image"/>
                        @if (!string.IsNullOrEmpty(Model.ImageBase64))
                        {
                            <img id="imagePreview" src="data:image;base64,@Model.ImageBase64" alt="User Image" style="max-width: 100%; max-height: 200px; border: 1px solid #ced4da;" class="mb-4" />
                        }
                        else
                        {
                            <span>No image selected</span>
                        }
                    </dd>
                </dl>
            </div>
            <div class="col-md-6">
                <!-- Other input fields -->
                <dl class="row">
                    <dt class="col-sm-3">Fullname</dt>
                    <dd class="col-sm-9"><input type="text" asp-for="UserModel.Fullname" class="form-control form-control-lg" /></dd>
                    <dt class="col-sm-3">Email</dt>
                    <dd class="col-sm-9"><input type="email" asp-for="UserModel.Email" class="form-control form-control-lg" /></dd>
                    <!-- Add other input fields as needed -->
                    <dt class="col-sm-3">Phone</dt>
                    <dd class="col-sm-9"><input type="text" asp-for="UserModel.Phone" class="form-control form-control-lg" /></dd>
                    <dt class="col-sm-3">Address</dt>
                    <dd class="col-sm-9"><input type="text" asp-for="UserModel.Address" class="form-control form-control-lg" /></dd>
                    <!-- Add other input fields as needed -->
                </dl>
            </div>
        </div>
        <button type="submit" class="btn btn-primary btn-lg mx-auto d-block">Update</button>
    </form>
</div>

<script>
        document.getElementById('imageInput').addEventListener('change', function (event) {
            var input = event.target;
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    var imagePreview = document.getElementById('imagePreview');
                    if (imagePreview) {
                        imagePreview.src = e.target.result;
                    }
                }

                reader.readAsDataURL(input.files[0]); // convert to base64 string
            }
        });
</script>





